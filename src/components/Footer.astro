---
// Footer component with CTA section and main footer
export interface Props {
  showCta?: boolean;
  ctaTitle?: string;
  ctaButtonText?: string;
  ctaButtonHref?: string;
}

const { 
  showCta = true,
  ctaTitle = "Pellentesque suscipit fringilla libero eu.",
  ctaButtonText = "Get a Demo",
  ctaButtonHref = "/demo"
} = Astro.props;

const currentYear = new Date().getFullYear();

const companyLinks = [
  { label: 'About us', href: '/about' },
  { label: 'Blog', href: '/blog' },
  { label: 'Contact us', href: '/contact' },
  { label: 'Pricing', href: '/pricing' },
  { label: 'Testimonials', href: '/testimonials' }
];

const supportLinks = [
  { label: 'Help center', href: '/help' },
  { label: 'Terms of service', href: '/terms' },
  { label: 'Legal', href: '/legal' },
  { label: 'Privacy policy', href: '/privacy' },
  { label: 'Status', href: '/status' }
];

const socialLinks = [
  { 
    label: 'Instagram', 
    href: 'https://instagram.com/nexcent',
    icon: '/images/social-Icon-1.svg'
  },
  { 
    label: 'Dribbble', 
    href: 'https://dribbble.com/nexcent',
    icon: '/images/social-Icon-2.svg'
  },
  { 
    label: 'Twitter', 
    href: 'https://twitter.com/nexcent',
    icon: '/images/social-Icon-3.svg'
  },
  { 
    label: 'YouTube', 
    href: 'https://youtube.com/nexcent',
    icon: '/images/social-Icon-4.svg'
  }
];
---

<footer class="footer">
  {showCta && (
    <!-- CTA Section -->
    <section class="footer__cta">
      <div class="footer__cta-container">
        <h2 class="footer__cta-title">
          {ctaTitle}
        </h2>
        <a href={ctaButtonHref} class="footer__cta-btn">
          <span>{ctaButtonText}</span>
          <svg 
            class="footer__cta-icon" 
            width="16" 
            height="16" 
            viewBox="0 0 16 16" 
            fill="none" 
            xmlns="http://www.w3.org/2000/svg"
            aria-hidden="true"
          >
            <path 
              d="M11.2503 11.0002L13.7201 8.53051C14.013 8.23761 14.013 7.76272 13.7201 7.46982L11.2503 5.00009M13.5004 8.00017L2.50012 8.00017" 
              stroke="currentColor" 
              stroke-width="1.1" 
              stroke-linecap="round"
            />
          </svg>
        </a>
      </div>
    </section>
  )}

  <!-- Main Footer -->
  <section class="footer__main">
    <div class="footer__container">
      <!-- Brand Section -->
      <div class="footer__brand">
        <a href="/" class="footer__logo-link" aria-label="Nexcent Home">
          <img 
            src="/images/footer-logo.png" 
            alt="Nexcent"
            class="footer__logo"
            width="191"
            height="30"
          />
        </a>
        
        <div class="footer__copyright">
          <p class="footer__copyright-text">
            Copyright Â© {currentYear} Nexcent ltd.
          </p>
          <p class="footer__rights-text">
            All rights reserved
          </p>
        </div>

        <div class="footer__social">
          <ul class="footer__social-list">
            {socialLinks.map((social) => (
              <li class="footer__social-item">
                <a 
                  href={social.href}
                  class="footer__social-link"
                  aria-label={`Follow us on ${social.label}`}
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  <img 
                    src={social.icon}
                    alt={social.label}
                    class="footer__social-icon"
                    width="32"
                    height="32"
                  />
                </a>
              </li>
            ))}
          </ul>
        </div>
      </div>

      <!-- Links Sections -->
      <div class="footer__links">
        <!-- Company Links -->
        <div class="footer__column">
          <h3 class="footer__column-title">Company</h3>
          <ul class="footer__column-list">
            {companyLinks.map((link) => (
              <li class="footer__column-item">
                <a href={link.href} class="footer__column-link">
                  {link.label}
                </a>
              </li>
            ))}
          </ul>
        </div>

        <!-- Support Links -->
        <div class="footer__column">
          <h3 class="footer__column-title">Support</h3>
          <ul class="footer__column-list">
            {supportLinks.map((link) => (
              <li class="footer__column-item">
                <a href={link.href} class="footer__column-link">
                  {link.label}
                </a>
              </li>
            ))}
          </ul>
        </div>

        <!-- Newsletter -->
        <div class="footer__column footer__column--newsletter">
          <h3 class="footer__column-title">Stay up to date</h3>
          <form class="footer__newsletter" id="js__newsletter-form">
            <div class="footer__newsletter-wrapper">
              <input 
                type="email"
                class="footer__newsletter-input"
                placeholder="Your email address"
                aria-label="Email address for newsletter"
                required
                id="newsletter-email"
              />
              <button 
                type="submit"
                class="footer__newsletter-btn"
                aria-label="Subscribe to newsletter"
              >
                <img 
                  src="/images/send-icon.svg"
                  alt="Send"
                  class="footer__newsletter-icon"
                  width="18"
                  height="18"
                />
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
</footer>
